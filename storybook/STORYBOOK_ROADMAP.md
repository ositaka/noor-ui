# Noor UI Storybook Roadmap

**Purpose**: Showcase all Noor UI components with full RTL/LTR, theme, and locale support for both development and package documentation.

**Target**: Public deployment at storybook.noorui.com

---

## üìä Progress Overview

- **Phase 1**: Core Setup ‚Üí ‚úÖ **COMPLETED**
- **Phase 2**: Provider Integration ‚Üí ‚úÖ **COMPLETED**
- **Phase 3**: Custom Toolbar Addons ‚Üí ‚úÖ **COMPLETED**
- **Phase 4**: Essential Addons ‚Üí ‚úÖ **COMPLETED**
- **Phase 5**: Component Stories ‚Üí üîÑ **In Progress (17/74 components)**
- **Phase 6**: Package Validation ‚Üí ‚è∏Ô∏è Not Started
- **Phase 7**: Deployment ‚Üí ‚è∏Ô∏è Not Started

---

## Phase 1: Core Setup ‚úÖ **COMPLETED**

### ‚úÖ Completed
- [x] Create `/storybook` directory structure
- [x] Set up `/storybook/.storybook` config folder
- [x] Create story category folders (basic, forms, navigation, etc.)
- [x] Install Storybook 10.1.10 with Next.js Vite support
- [x] Configure Tailwind CSS in Storybook
- [x] Set up PostCSS processing
- [x] Create preview-head.html for font loading (Inter, IBM Plex Sans Arabic, JetBrains Mono)
- [x] Configure TypeScript paths and aliases
- [x] Fix ES module __dirname issue with import.meta.url

### Dependencies Installed ‚úÖ
```bash
storybook@10.1.10
@storybook/nextjs-vite@10.1.10
@chromatic-com/storybook@4.1.3
@storybook/addon-a11y@10.1.10
@storybook/addon-docs@10.1.10
@storybook/addon-onboarding@10.1.10
@storybook/addon-vitest@10.1.10
vite@7.3.0
```

---

## Phase 2: Provider Integration ‚úÖ **COMPLETED**

### ‚úÖ Completed
- [x] Create global decorator for `DirectionProvider`
- [x] Add `DesignSystemProvider` with all 4 themes (Minimal, Futuristic, Cozy, Artistic)
- [x] Integrate `next-themes` for dark mode support
- [x] Set up default provider configuration in `preview.tsx`
- [x] Ensure CSS variables load correctly from globals.css
- [x] Test provider switching in stories ‚úÖ Working perfectly

### Implementation Details
- All providers wrapped in decorators in `preview.tsx`
- Providers work independently of Next.js App Router context
- CSS variables correctly applied from `styles/globals.css`
- Theme switching updates design tokens in real-time

---

## Phase 3: Custom Toolbar Addons ‚úÖ **COMPLETED**

### ‚úÖ Features Implemented
- [x] **Direction Switcher**: RTL ‚áÑ LTR toggle
  - Default: LTR
  - Persists across stories
  - Updates `dir` attribute on document root

- [x] **Theme Selector**: Dropdown with 4 themes
  - Minimal (default)
  - Futuristic
  - Cozy
  - Artistic

- [x] **Mode Toggle**: Light ‚áÑ Dark
  - Works with all 4 themes
  - Fully integrated with next-themes
  - Sun/moon icons for clarity

- [x] **Locale Switcher**: English ‚áÑ Arabic
  - Syncs with direction automatically
  - Updates `lang` attribute on document
  - Updates story content when available

### Implementation
- Global types defined in `preview.tsx`
- Toolbar controls automatically generated by Storybook
- Decorators apply settings via React Context and DOM attributes
- All controls work seamlessly together

---

## Phase 4: Essential Addons ‚úÖ **COMPLETED**

### ‚úÖ Addons Configured
- [x] @chromatic-com/storybook - Chromatic integration
- [x] @storybook/addon-a11y - Accessibility testing ‚úÖ Active
- [x] @storybook/addon-docs - Automatic documentation generation
- [x] @storybook/addon-onboarding - New user guidance
- [x] @storybook/addon-vitest - Test integration

### Configuration Complete
- [x] Set up controls for common props (type-safe with TypeScript)
- [x] Configure viewport for responsive testing
- [x] Add accessibility checks to all stories (active by default)
- [x] Background controls (light/dark) configured
- [x] Layout options (centered, padded, fullscreen)

---

## Phase 5: Component Stories üìù

### Story Coverage Status

#### Basic Components (13/20 completed) üîÑ
- [x] **Button** - ‚úÖ All variants, sizes, states, RTL, with icons, loading state
- [x] **Input** - ‚úÖ All types, states, with labels, with icons, RTL, form examples
- [x] **Card** - ‚úÖ All layouts, with footer, notification, stats, product, article, RTL
- [x] **Badge** - ‚úÖ All variants, sizes, with icons, status, notification, RTL, custom colors
- [x] **Avatar** - ‚úÖ Image, fallback, sizes, groups, with profile, RTL examples
- [x] **Label** - ‚úÖ With input, required, helper text, disabled, horizontal, forms, RTL
- [x] **Textarea** - ‚úÖ All height options, character count, validation, auto-expand, forms, RTL
- [x] **Separator** - ‚úÖ Horizontal, vertical, in cards, navigation, lists, custom styling, RTL
- [x] **Alert** - ‚úÖ All variants (default, destructive, success, warning), with/without icons, RTL
- [x] **Tooltip** - ‚úÖ All positions (top, bottom, left, right), with icon buttons, text buttons, RTL
- [x] **Kbd** - ‚úÖ Single keys, combinations, all variants/sizes, in buttons, shortcuts panel, RTL
- [x] **Blockquote** - ‚úÖ All variants (default, accent, subtle), with/without attribution, with citation, RTL
- [x] **Callout** - ‚úÖ All 5 types (info, warning, error, success, note), with/without title, custom icon, RTL

#### Form Components (4/12 completed) üîÑ
- [x] **Checkbox** - ‚úÖ Single, group, indeterminate, disabled, controlled, in forms, RTL
- [x] **Radio Group** - ‚úÖ Vertical, horizontal, with description, disabled, controlled, in forms, RTL
- [x] **Select** - ‚úÖ With label, grouped options, disabled, controlled, in forms, RTL
- [x] **Switch** - ‚úÖ With label, settings panel, disabled, controlled, in forms, RTL
- [ ] Slider - Single, range
- [ ] Range Slider - Min/max values
- [ ] Form - Complete form examples
- [ ] Date Picker - Single date, range, Hijri
- [ ] Time Picker - 12/24 hour
- [ ] Number Input - Min, max, step
- [ ] File Upload - Single, multiple
- [ ] Calendar - Date selection, Hijri

#### Navigation & Layout (8 components)
- [ ] Tabs - Horizontal, vertical, RTL
- [ ] Accordion - Single, multiple
- [ ] Breadcrumb - With icons, RTL
- [ ] Pagination - Page numbers, RTL
- [ ] Collapsible - Open, closed
- [ ] Scroll Area - Vertical, horizontal
- [ ] Stepper - Steps, active state

#### Data Display (8 components)
- [ ] Table - Basic, striped, hover
- [ ] Data Table - Sortable, filterable
- [ ] Stats Card - With trends
- [ ] Feature Card - Icon, title, description
- [ ] Listing Card - Product, property
- [ ] Empty State - No data, search

#### Overlay Components (6 components)
- [ ] Dialog - Modal, alert
- [ ] Sheet - Side panel, RTL
- [ ] Popover - Positions, RTL
- [ ] Dropdown Menu - Items, groups
- [ ] Context Menu - Right click
- [ ] Command - Command palette

#### Feedback Components (5 components)
- [ ] Toast - Success, error, info
- [ ] Toaster - Multiple toasts
- [ ] Progress - Linear, circular
- [ ] Skeleton - Text, card, table
- [ ] Loading Spinner - Sizes

#### GCC-Specific Components (5 components) üåô
- [ ] Prayer Times - Mock prayer data
- [ ] Hijri Date - Date conversion
- [ ] Arabic Number - Number formatting
- [ ] Zakat Calculator - Input/output
- [ ] Calendar with Hijri - Dual calendar

#### AI/LLM Components (10 components) ü§ñ
- [ ] Chat Message - User, assistant
- [ ] Streaming Text - Live typing
- [ ] Prompt Input - With suggestions
- [ ] Thinking Indicator - Loading state
- [ ] Message Actions - Copy, regenerate
- [ ] Model Selector - Dropdown
- [ ] Parameter Slider - Temperature, etc.
- [ ] Token Counter - Usage display
- [ ] Conversation History - Thread
- [ ] Workflow Canvas - Visual editor

### Story Template
Each component should include 8-15 stories:
- ‚úÖ Default example (with Controls for variants)
- ‚úÖ 1-2 meaningful use case examples (WithIcon, StatusIndicator, etc.)
- ‚úÖ 1 RTL example (with Controls for variants)
- ‚úÖ "All Variants" showcase story
- ‚úÖ "All Sizes" showcase story (if applicable)
- ‚úÖ Additional "All..." stories for comprehensive display
- ‚úÖ Real-world usage patterns (NotificationCount, FormExample, etc.)
- ‚úÖ Interactive controls on individual stories
- ‚úÖ Accessibility notes
- ‚úÖ Code snippets
- ‚úÖ Examples from `/app/(docs)/components/[name]/page.tsx`

---

## Phase 6: Package Validation Mode ‚è∏Ô∏è

### Tasks
- [ ] Create npm script to build local package
- [ ] Install local .tgz file
- [ ] Create separate Storybook config for package mode
- [ ] Add script to run Storybook with package
- [ ] Document differences between local vs package

### Scripts to Add
```json
{
  "storybook": "storybook dev -p 6006",
  "storybook:build": "storybook build -o storybook-static",
  "storybook:package": "npm pack && npm install noorui-rtl-*.tgz && storybook dev -p 6007 --config-dir storybook/.storybook-package"
}
```

---

## Phase 7: Deployment üöÄ

### Build Configuration
- [ ] Configure static build output
- [ ] Optimize build size
- [ ] Add base path if needed
- [ ] Test production build locally

### Deployment Options
- [ ] **Option A**: Vercel
  - Automatic deploys from `storybook` branch
  - Custom domain: storybook.noorui.com
  - Preview deployments for PRs

- [ ] **Option B**: Chromatic
  - Visual regression testing
  - Component snapshot testing
  - Publish to Chromatic hosting

- [ ] **Option C**: GitHub Pages
  - Deploy to gh-pages branch
  - Free hosting
  - Custom domain via CNAME

### Post-Deployment
- [ ] Link from main noorui.com docs
- [ ] Add storybook badge to README
- [ ] Create social preview image
- [ ] Announce on Twitter/LinkedIn

---

## üêõ Known Issues & Bugs

### Active Issues
- None yet

### Fixed Issues
- None yet

---

## üí° Future Enhancements

### Phase 8: Advanced Features (Future)
- [ ] Visual regression testing with Chromatic
- [ ] Interaction tests for all components
- [ ] Automated accessibility testing in CI
- [ ] Performance benchmarks
- [ ] Component usage analytics
- [ ] Search functionality enhancement
- [ ] Multi-framework support (Vue, Svelte adapters?)

### Phase 9: Documentation (Future)
- [ ] Design principles page
- [ ] RTL development guide
- [ ] Theme customization guide
- [ ] Component composition examples
- [ ] Real-world patterns
- [ ] Migration guides

---

## üìã Quality Checklist

Before marking a component story as "complete":
- [ ] All variants demonstrated (via showcase stories + Controls)
- [ ] **8-15 stories total** (not 30+)
- [ ] **Includes "All..." showcase stories** for comprehensive view
- [ ] RTL behavior shown
- [ ] Arabic text example included
- [ ] Interactive controls work
- [ ] Accessibility: No violations
- [ ] Responsive: Mobile, tablet, desktop tested
- [ ] Dark mode: Works in all themes
- [ ] Documentation: Props documented
- [ ] Code: Copy-paste ready examples
- [ ] Examples copied from `/app/(docs)/components/[name]/page.tsx`

---

## üéØ Success Metrics

### Completion Targets
- **Phase 1-4**: Foundation (by end of session 1)
- **Phase 5**: 20+ components (by end of session 2)
- **Phase 5**: All 74 components (by end of sprint)
- **Phase 6-7**: Deployed live (within 2 sprints)

### Quality Metrics
- Zero accessibility violations on all stories
- 100% component coverage
- Sub-3s build time per component
- Mobile-responsive all viewports
- RTL support verified on all text components

---

## üìù Notes & Decisions

### Architectural Decisions
1. **Local Components First**: Use local source for development speed
2. **Dedicated /storybook Folder**: Keeps stories separate from docs site
3. **Category-Based Organization**: Stories grouped by component type
4. **Dual-Purpose Setup**: Supports both dev and package showcase
5. **Locale Toolbar**: Display-only indicator showing current story's language (not interactive)

### Technical Constraints
- Must support all 4 design themes
- Must work with RTL/LTR switching
- Must load custom fonts (Inter, IBM Plex Sans Arabic)
- Must integrate with existing DirectionProvider
- Tailwind config must match main project

### Design Decisions Made
- ‚úÖ **Locale Toolbar Strategy**: Display-only indicator, not interactive
  - Reason: Simple and maintainable for 70+ components
  - Users click RTL story variants to see Arabic examples
  - Toolbar automatically shows correct locale for each story
- ‚úÖ **No Directional Icons**: Never use arrows/chevrons that break in RTL
  - Use dedicated ButtonArrow component for navigation
- ‚úÖ **Auto-Switch Toolbar**: RTL stories must include `globals: { direction: 'rtl', locale: 'ar' }`
  - This makes Direction and Locale toolbars update automatically
- ‚úÖ **Use Existing Documentation**: All stories must use examples from `/app/(docs)/components/[name]/page.tsx`
  - DO NOT invent new examples
  - Copy exact text, data, and Arabic translations
  - Ensures RTL-tested, validated content
- ‚úÖ **Focus on Meaningful Stories**: Don't create 30+ stories for every variant permutation
  - Aim for 8-15 stories per component
  - Use "All..." showcase stories for comprehensive variant display
  - Let users explore variants via Controls panel
  - Keeps sidebar clean and maintainable at scale

### Open Questions
- Should we auto-generate stories from TypeScript types?
- Include Figma embed for design tokens?
- Add Playwright tests for interactions?

---

**Last Updated**: 2025-12-23 16:00 UTC
**Maintained By**: Development Team
**Status**: üöÄ Active Development - Foundation Complete!
**Latest Change**: Added Select component stories (16/74 components, 22% complete)

---

## üéâ Major Milestones Achieved

‚úÖ **Storybook 10 Successfully Installed** - Latest version with Vite support
‚úÖ **Full RTL/LTR Support** - Seamless direction switching in toolbar
‚úÖ **4 Theme Variants** - Minimal, Futuristic, Cozy, Artistic (all working)
‚úÖ **Light/Dark Mode** - Complete theme support across all variants
‚úÖ **Bilingual Ready** - English/Arabic locale switching
‚úÖ **16 Component Stories** - Button, Input, Card, Badge, Avatar, Label, Textarea, Separator, Alert, Tooltip, Kbd, Blockquote, Callout, Checkbox, Radio Group, Select (comprehensive examples)
‚úÖ **Story Guidelines** - 4 critical rules documented for maintainability
‚úÖ **Streamlined Approach** - 8-15 stories per component philosophy
‚úÖ **Accessibility Testing** - Built-in a11y addon active on all stories
‚úÖ **Auto Documentation** - Props tables and MDX support configured

### üéØ Current Focus
- Writing stories for remaining 60 components
- Following 8-15 stories per component guideline
- Creating meaningful use cases + showcase stories
- Documenting RTL-specific behaviors
- Building GCC-specific component showcases
- Using examples from `/app/(docs)/components/` pages

### üìç Quick Stats
- **Storybook Version**: 10.1.10
- **Components Ready**: 16/74 (22%)
- **Stories Written**: 178+ individual stories
- **Toolbar Controls**: 4 (Direction, Theme, Mode, Locale)
- **Framework**: Next.js 14 + Vite
- **Status**: Running at http://localhost:6006
- **Story Guidelines**: 4 critical rules documented
- **Target per Component**: 8-15 stories (focused + showcase)
